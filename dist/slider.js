!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i=e();for(var s in i)("object"==typeof exports?exports:t)[s]=i[s]}}(self,(()=>(()=>{"use strict";var t={d:(e,i)=>{for(var s in i)t.o(i,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:i[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{Slider:()=>l});class i{constructor(t){this.app=t,this.method="GET",this.api="/",this.data=null,this.statusCallMap={200:t=>{}},this.failureCallBack=t=>{},this.errorCallBack=t=>{}}setMethod(t){return this.method=t,this}setApi(t){return this.api=t,this}setData(t){return this.data=t,this}onSuccess(t){return this.statusCallMap[200]=t,this}onFailure(t){return this.failureCallBack=t,this}onError(t){return this.errorCallBack=t,this}onStatus(t,e){return this.statusCallMap[t]=e,this}parseJson(t){let e={};try{e=JSON.parse(t)}catch(t){e={}}return e}call(){let t={method:this.method,credentials:"include"};null!==this.data&&(t.body=this.data),fetch(this.api,t).then((t=>{t.status in this.statusCallMap?t.text().then((e=>{this.statusCallMap[t.status](this.parseJson(e))})):t.text().then((t=>{this.failureCallBack(this.parseJson(t))}))})).catch((t=>{throw this.app.state.getState("message_box_content").set({text:"Network error occurred. please check your internet connection.",severity:"error"}),this.errorCallBack(),t}))}}class s{constructor(t=null){this.temp_dom_element=t}create(t){return this.temp_dom_element=document.createElement(t),this}set(t,e){return this.temp_dom_element.setAttribute(t,e),this}html(t){return this.temp_dom_element.innerHTML=t,this}style(t,e){return this.temp_dom_element.style[t]=e,this}styleClass(t){return Object.keys(t).map((e=>{this.style(e,t[e])})),this}get(){return this.temp_dom_element}add(t){return this.temp_dom_element.appendChild(t),this}prepend(t){return this.temp_dom_element.prepend(t),this}text(t){return this.temp_dom_element.innerText=t,this}class(t){return this.temp_dom_element.classList.add(t),this}style(t,e){return this.temp_dom_element.style[t]=e,this}delete_class(t){return this.temp_dom_element.classList.remove(t),this}onload(t){return this.temp_dom_element.onload=t,this}onclick(t){return this.temp_dom_element.onclick=t,this.temp_dom_element.ontouch=t,this}onmousedown(t){return this.temp_dom_element.onmousedown=t,this.temp_dom_element.ontouchstart=t,this}onmouseup(t){return this.temp_dom_element.onmouseup=t,this.temp_dom_element.ontouchend=t,this}onenter(t){return this.temp_dom_element.onkeyup=e=>{"Enter"===e.code&&t()},this}onchange(t){return this.temp_dom_element.onchange=t,this}oninput(t){return this.temp_dom_element.oninput=t,this}onsubmit(t){return this.temp_dom_element.onsubmit=t,this}onbeforeunload(t){return this.temp_dom_element.onbeforeunload=t,this}onanimationend(t){return this.temp_dom_element.onanimationend=t,this}onunload(t){return this.temp_dom_element.onunload=t,this}onstoptyping(t,e){this.typingTimer=null;let i=i=>{clearTimeout(this.typingTimer),this.typingTimer=setTimeout((()=>e(i)),t)};return this.temp_dom_element.onkeyup=i,this.temp_dom_element.onchange=i,this.temp_dom_element.onkeydown=()=>{clearTimeout(this.typingTimer)},this}swap(t){return this.temp_dom_element.replaceChildren(t),this}empty(){for(;this.temp_dom_element.firstChild;)this.temp_dom_element.removeChild(this.temp_dom_element.firstChild);return this}disable(){return this.temp_dom_element.disabled=!0,this.class("disabled"),this}enable(){return this.temp_dom_element.disabled=!1,this.delete_class("disabled"),this}scrollBottom(){return this.temp_dom_element.scrollTop=this.temp_dom_element.scrollHeight,this}createRow(t,e,i){let n=(new s).create("tr").get(),r=(new s).create("td").get(),h=(new s).create("label").set("for",e).get();h.innerText=t,r.appendChild(h);let l=(new s).create("td").get(),a=(new s).create("input").set("type",i).set("name",e).set("id",e).get();return l.appendChild(a),n.appendChild(r),n.appendChild(l),n}}class n{constructor(t){this.type=t.type||"div",this.parentDiv=(new s).create(this.type),this.inAnimation=t.inAnimation||null,this.outAnimation=t.outAnimation||null,this.showDuration=t.showDuration||null,this.backgroundColor=t.backgroundColor||"transparent",this.backgroundImage=t.backgroundImage?`url(${t.backgroundImage})`:"none",this.backgroundEffect=t.backgroundEffect||"none",this.userClass=t.class?t.class.split(" "):[],this.userStyle=t.style||{},this.property=t.property||{}}setStyle(t){this.parentDiv.class(this.defaultClass),this.parentDiv.styleClass(t),this.userClass.map((t=>{this.parentDiv.class(t)})),this.parentDiv.styleClass(this.userStyle)}setProperty(){Object.keys(this.property).map((t=>{this.parentDiv.set(t,this.property[t]),this.parentDiv.get()[t]=this.property[t]}))}assignAnimations(){this.parentDiv.delete_class("fadeOut"),"fadein"===this.inAnimation&&this.parentDiv.class("fadeIn")}}class r extends n{constructor(t){super(t),this.url=t.url||"",this.html=t.html||"",this.showAfter=t.showAfter||null,this.revealOnClick=t.revealOnClick||null,this.width=t.width||"auto",this.height=t.height||"auto",this.unrenderedAlready=!1,this.parentDiv.set("src",this.url).html(this.html),this.defaultClass="__segment",this.calculatedClass={"background-color":this.backgroundColor,"background-image":this.backgroundImage,width:this.width,height:this.height,"max-width":"auto"===this.width?"none":this.width,"max-height":"auto"===this.height?"none":this.height,"min-width":this.width,"min-height":this.height}}unrender(){!0!==this.unrenderedAlready&&(this.unrenderedAlready=!0,this.timer&&clearTimeout(this.timer),"fadeout"===this.outAnimation?(this.parentDiv.onanimationend((()=>{this.parentDiv.onanimationend(null),this.parentDiv.style("display","none")})),this.parentDiv.delete_class("fadeIn"),this.parentDiv.class("fadeOut")):this.parentDiv.style("display","none"))}showSegment(){null!==this.showDuration&&(this.timer&&clearTimeout(this.timer),this.timer=setTimeout((()=>{this.unrender()}),Number(this.showDuration))),this.setStyle(this.calculatedClass),this.setProperty(),this.assignAnimations()}reveal(){this.parentDiv.style("display",""),this.showSegment()}render(){return this.unrenderedAlready=!1,"none"===this.parentDiv.get().style.display&&this.parentDiv.style("display",""),this.parentDiv.onanimationend(null),null!==this.revealOnClick?(this.parentDiv.style("display","none"),this.parentDiv.get()):(null!==this.showAfter?(this.parentDiv.style("display","none"),this.timer&&clearTimeout(this.timer),this.timer=setTimeout((()=>{this.reveal()}),Number(this.showAfter))):this.showSegment(),this.parentDiv.get())}}class h extends n{constructor(t){super(t),this.showOutline=!1!==t.showOutline,this.width=t.width||"800px",this.height=t.height||"600px",this.segments=[],t.segments.map((t=>{this.segments.push(new r(t))})),this.clickSequence=Array(this.segments.length),this.currentClick=0,this.parentDiv.onclick((()=>{this.currentClick+=1;let t=this.clickSequence[this.currentClick];t&&(t(),this.clickSequence[this.currentClick]=null)})),this.defaultClass="__slide",this.calculatedClass={"box-shadow":this.showOutline?"rgba(0, 0, 0, 0.16) 0px 1px 4px":"none","background-color":this.backgroundColor,"background-image":this.backgroundImage,width:this.width,height:this.height,"max-width":this.width,"max-height":this.height,"min-width":this.width,"min-height":this.height}}adjustSize(t,e){let i=this.parentDiv.get().parentNode.innerWidth,s=this.parentDiv.get().parentNode.innerHeight,n=!1;if(s>i){let r=Math.floor(i/t);r*e<=s&&(this.width=r*t+"px",this.height=r*e+"px",n=!0)}if(!1===n){let s=Math.floor(i/e);this.width=s*t+"px",this.height=s*e+"px"}}unrender(t){this.segments.map((t=>{t.unrender()})),"fadeout"===this.outAnimation?(this.parentDiv.onanimationend((()=>{this.parentDiv.onanimationend(null),t()})),this.parentDiv.delete_class("fadeIn"),this.parentDiv.class("fadeOut")):t()}render(){return this.currentClick=0,this.setStyle(this.calculatedClass),this.setProperty(),this.segments.map((t=>{this.parentDiv.add(t.render()),null!==t.revealOnClick&&(this.clickSequence[Number(t.revealOnClick)]=()=>{t.reveal()})})),this.assignAnimations(),this.parentDiv.get()}}class l{constructor(){this.slideCount=0,this.currentSlide=-1,this.slides=[],this.parentDiv=(new s).create("div").style("width","100%").style("height","100%")}presentFile(t){let e=new FileReader;return e.onload=t=>{let e=JSON.parse(t.target.result);this.load(e),this.setStyle(),this.next()},e.readAsText(t),this.parentDiv.get()}presentURL(t){return(new i).setMethod("GET").setApi(t).onSuccess((t=>{this.load(t),this.setStyle(),this.next()})).call(),this.parentDiv.get()}load(t){this.name=t.name,this.author=t.author,this.copyright=t.copyright,this.owner=t.owner,this.date=t.date,this.cssFile=t.cssFile,this.backgroundColor=t.backgroundColor||"transparent",this.backgroundImage=t.backgroundImage?`url(${t.backgroundImage})`:"none",this.style=t.style||{},this.slideCount=t.slides.length,t.slides.map((t=>{this.slides.push(new h(t))}))}setStyle(){this.parentDiv.styleClass({"background-color":this.backgroundColor,"background-image":this.backgroundImage}),this.parentDiv.styleClass(this.style)}showSlide(t){let e=this.slides[t];this.parentDiv.swap(e.render()),e.showDuration&&(this.timer=setTimeout((()=>{this.next()}),Number(e.showDuration)))}removeSlide(t,e){let i=this.slides[t];i?(this.timer&&clearTimeout(this.timer),i.unrender(e)):e()}next(){if(this.currentSlide!==this.slideCount-1)return this.removeSlide(this.currentSlide,(()=>{this.currentSlide=Math.min(this.slideCount-1,this.currentSlide+1),this.showSlide(this.currentSlide)})),!(this.currentSlide===this.slideCount-1)}previous(){if(0!==this.currentSlide)return this.removeSlide(this.currentSlide,(()=>{this.currentSlide=Math.max(0,this.currentSlide-1),this.showSlide(this.currentSlide)})),!(0===this.currentSlide)}}return e})()));